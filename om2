local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Balanced values 
local DENSITY = 1
local FRICTION = 2.5       -- strong but not physics-breaking
local ELASTICITY = 0
local FRICTION_WEIGHT = 1
local ELASTICITY_WEIGHT = 0

local function makeAntiSlip(part)
    if not part:IsA("BasePart") then return end

    -- Skip characters
    if part:IsDescendantOf(LocalPlayer.Character or {}) then return end

    -- Skip moving parts
    if part.Anchored == false then return end

    -- Apply safely
    part.CustomPhysicalProperties = PhysicalProperties.new(
        DENSITY,
        FRICTION,
        ELASTICITY,
        FRICTION_WEIGHT,
        ELASTICITY_WEIGHT
    )
end

-- Apply to existing parts
for _, obj in ipairs(workspace:GetDescendants()) do
    makeAntiSlip(obj)
end

-- Apply to new parts
workspace.DescendantAdded:Connect(function(obj)
    task.wait()
    makeAntiSlip(obj)
end)
